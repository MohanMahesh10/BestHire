(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[676],{20173:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var l=s(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,l.Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},31541:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});var l=s(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,l.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},43024:function(e,t,s){Promise.resolve().then(s.bind(s,48172))},48172:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var l=s(57437),a=s(2265),i=s(10732),r=s(31541),n=s(86264),d=s(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,d.Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);var c=s(20173),m=s(60290),x=s(88686);async function h(e){try{let t=new FormData;t.append("file",e);let s=await fetch("/api/parse-pdf",{method:"POST",body:t});if(!s.ok)throw Error("Failed to parse PDF");let l=await s.json();return l.text}catch(e){throw console.error("PDF parsing error:",e),Error("Failed to parse PDF")}}async function u(e){try{let t=new FormData;t.append("file",e);let s=await fetch("/api/parse-docx",{method:"POST",body:t});if(!s.ok)throw Error("Failed to parse DOCX");let l=await s.json();return l.text}catch(e){throw console.error("DOCX parsing error:",e),Error("Failed to parse DOCX")}}async function p(e){let t=e.name.toLowerCase();if(t.endsWith(".pdf"))return h(e);if(t.endsWith(".docx"))return u(e);if(t.endsWith(".txt"))return e.text();throw Error("Unsupported file type. Please upload PDF, DOCX, or TXT")}var f=s(66466),y=s(5715),j=s(69977);function g(){let[e,t]=(0,a.useState)(null),[s,d]=(0,a.useState)(!1),[h,u]=(0,a.useState)(null),[g,b]=(0,a.useState)(""),w=async()=>{if(e){d(!0),b("");try{let t,s;console.log("Parsing file...");let l=await p(e);if(!l||l.length<50)throw Error("Could not extract text from file. Please ensure the PDF/DOCX contains readable text.");console.log("Extracted text length:",l.length);let a=localStorage.getItem("besthire_mode")||"ml";if("ml"===a)console.log("Processing with local ML..."),t=(0,y.WT)(l),s=(0,y.cS)(l);else if(console.log("Analyzing with Gemini AI..."),[t,s]=await Promise.all([(0,f.b1)(l),(0,f.iF)(l)]),!t)throw Error("Failed to parse resume with AI. Switching to local ML...");let i={id:Date.now().toString(),name:t.name||"Unknown",email:t.email||"",phone:t.phone||"",skills:t.skills||[],education:t.education||[],experience:t.experience||[],summary:t.summary||"",sentimentScore:s,uploadedAt:new Date().toISOString(),resumeText:l};j.t.addCandidate(i),u(i),console.log("Successfully parsed candidate:",i.name)}catch(e){console.error("Upload error:",e),b(e.message||"Failed to process resume. Please try again.")}finally{d(!1)}}};return(0,l.jsxs)("div",{className:"max-w-4xl mx-auto space-y-4 md:space-y-6",children:[(0,l.jsxs)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:[(0,l.jsx)("h1",{className:"text-2xl md:text-4xl font-bold mb-2",children:"Upload Resume"}),(0,l.jsx)("p",{className:"text-sm md:text-base text-muted-foreground",children:"Parse resumes instantly with AI"})]}),(0,l.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:(0,l.jsxs)(x.Zb,{children:[(0,l.jsxs)(x.Ol,{children:[(0,l.jsx)(x.ll,{children:"Upload File"}),(0,l.jsx)(x.SZ,{children:"PDF, DOCX, or TXT supported"})]}),(0,l.jsxs)(x.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"border-2 border-dashed border-border rounded-lg p-6 md:p-8 text-center",children:[(0,l.jsx)("input",{type:"file",accept:".pdf,.docx,.txt",onChange:e=>{var s;let l=null===(s=e.target.files)||void 0===s?void 0:s[0];l&&(t(l),u(null),b(""))},className:"hidden",id:"file-upload"}),(0,l.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer flex flex-col items-center gap-2",children:[(0,l.jsx)(r.Z,{className:"h-10 w-10 md:h-12 md:w-12 text-muted-foreground"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-medium text-sm md:text-base",children:e?e.name:"Click to upload"}),(0,l.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground",children:"PDF, DOCX, or TXT (Max 10MB)"})]})]})]}),e&&(0,l.jsx)(m.z,{onClick:w,disabled:s,className:"w-full",size:"lg",children:s?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o,{className:"mr-2 h-4 w-4"}),"Parse Resume"]})}),g&&(0,l.jsx)("div",{className:"bg-destructive/10 text-destructive p-4 rounded-lg",children:g})]})]})}),h&&(0,l.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},children:(0,l.jsxs)(x.Zb,{children:[(0,l.jsx)(x.Ol,{children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(c.Z,{className:"h-6 w-6 text-green-500"}),(0,l.jsx)(x.ll,{children:"Parsed Successfully"})]})}),(0,l.jsxs)(x.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-base md:text-lg break-words",children:h.name}),(0,l.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground break-all",children:h.email}),h.phone&&(0,l.jsx)("p",{className:"text-xs md:text-sm text-muted-foreground",children:h.phone})]}),h.summary&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-1",children:"Summary"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:h.summary})]}),h.skills.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Skills"}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2",children:h.skills.map((e,t)=>(0,l.jsx)("span",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full text-sm",children:e},t))})]}),h.experience.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Experience"}),(0,l.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:h.experience.map((e,t)=>(0,l.jsx)("li",{children:e},t))})]}),h.education.length>0&&(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"Education"}),(0,l.jsx)("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground",children:h.education.map((e,t)=>(0,l.jsx)("li",{children:e},t))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-1",children:"Sentiment Score"}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)("div",{className:"flex-1 bg-secondary rounded-full h-2",children:(0,l.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all",style:{width:"".concat(100*(h.sentimentScore||0),"%")}})}),(0,l.jsxs)("span",{className:"text-sm font-medium",children:[(100*(h.sentimentScore||0)).toFixed(0),"%"]})]})]})]})]})})]})}}},function(e){e.O(0,[72,61,732,467,127,971,472,744],function(){return e(e.s=43024)}),_N_E=e.O()}]);